<form
  [formGroup]="addressFormBuilder"
  class="max-w-200 mx-auto p-6 bg-white rounded shadow space-y-6 mb-4"
>
  <h2 class="text-2xl font-semibold mb-4">Añadir dirección de envío</h2>

  <div class="sm:flex sm:gap-4">
    <!-- Nombre -->
    <div class="sm:flex-1">
      <label for="name" class="block text-sm font-medium mb-1">Nombre*</label>
      <input
        id="name"
        type="text"
        formControlName="name"
        class="border border-gray-300 placeholder-gray-300 rounded w-full px-2 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"
        placeholder="Nombre"
        [class.border-red-500]="
          addressFormBuilder.controls['name'].invalid &&
          addressFormBuilder.controls['name'].touched
        "
        required
      />
      @if ( formUtils.isValidField(addressFormBuilder, 'name')) {
      <error-form class="block mt-1 ml-1 text-sm text-red-500">
        {{ formUtils.getFieldError(addressFormBuilder, "name") }}
      </error-form>
      }
    </div>

    <!-- Apellidos -->
    <div class="sm:flex-1">
      <label for="apellidos" class="block text-sm font-medium mb-1"
        >Apellidos*</label
      >
      <input
        id="apellidos"
        type="text"
        formControlName="apellidos"
        class="border border-gray-300 placeholder-gray-300 rounded w-full px-2 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"
        placeholder="Apellidos"
        [class.border-red-500]="
          addressFormBuilder.controls['apellidos'].invalid &&
          addressFormBuilder.controls['apellidos'].touched
        "
        required
      />
      @if ( formUtils.isValidField(addressFormBuilder, 'apellidos')) {
      <error-form class="block mt-1 ml-1 text-sm text-red-500">
        {{ formUtils.getFieldError(addressFormBuilder, "apellidos") }}
      </error-form>
      }
    </div>
  </div>

  <!-- País -->
  <div>
    <label for="pais" class="block text-sm font-medium mb-1">País*</label>
    <select
      id="pais"
      formControlName="pais"
      class="w-full border border-gray-300 placeholder-gray-300 rounded px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500"
      [class.border-red-500]="
        addressFormBuilder.controls['pais'].invalid &&
        addressFormBuilder.controls['pais'].touched
      "
      required
    >
      <option value="">Seleccione un país</option>
      <option value="Francia">🇫🇷 Francia</option>
      <option value="España">🇪🇸 España</option>
      <option value="Alemania">🇩🇪 Alemania</option>
    </select>
    @if ( formUtils.isValidField(addressFormBuilder, 'pais')) {
    <error-form class="block mt-1 ml-1 text-sm text-red-500">
      {{ formUtils.getFieldError(addressFormBuilder, "pais") }}
    </error-form>
    }
  </div>

  <!-- Móvil -->
  <div>
    <label for="movil" class="block text-sm font-medium mb-1">Móvil*</label>
    <input
      id="movil"
      type="tel"
      formControlName="movil"
      class="w-full border border-gray-300 placeholder-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"
      placeholder="+33 6 12 34 56 78"
      [class.border-red-500]="
        addressFormBuilder.controls['movil'].invalid &&
        addressFormBuilder.controls['movil'].touched
      "
      required
    />
    @if ( formUtils.isValidField(addressFormBuilder, 'movil')) {
    <error-form class="block mt-1 ml-1 text-sm text-red-500">
      {{ formUtils.getFieldError(addressFormBuilder, "movil") }}
    </error-form>
    }
  </div>

  <!-- Dirección y número -->
  <div>
    <label for="direccion" class="block text-sm font-medium mb-1"
      >Dirección y número*</label
    >
    <input
      id="direccion"
      type="text"
      formControlName="direccion"
      placeholder="Ej. Calle de Cavanilles, 35"
      class="w-full border border-gray-300 placeholder-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"
      [class.border-red-500]="
        addressFormBuilder.controls['direccion'].invalid &&
        addressFormBuilder.controls['direccion'].touched
      "
      required
    />
    @if ( formUtils.isValidField(addressFormBuilder, 'direccion')) {
    <error-form class="block mt-1 ml-1 text-sm text-red-500">
      {{ formUtils.getFieldError(addressFormBuilder, "direccion") }}
    </error-form>
    }
  </div>

  <!-- Datos adicionales -->
  <div>
    <label for="datosAdicionales" class="block text-sm font-medium mb-1"
      >Datos adicionales (piso, puerta, barrio...)</label
    >
    <input
      id="datosAdicionales"
      type="text"
      formControlName="datosAdicionales"
      placeholder="Ej. Piso 2, Puerta 4"
      class="w-full border border-gray-300 placeholder-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"
    />
  </div>

  <!-- Observaciones -->
  <div>
    <label for="observaciones" class="block text-sm font-medium mb-1"
      >Observaciones para la agencia</label
    >
    <textarea
      id="observaciones"
      formControlName="observaciones"
      placeholder="Escribe aquí tus observaciones para la agencia..."
      rows="3"
      class="w-full border border-gray-300 placeholder-gray-300 rounded px-3 py-2 resize-y focus:outline-none focus:ring-2 focus:ring-purple-500"
    ></textarea>
  </div>

  <!-- Código postal -->
  <div>
    <label for="codigoPostal" class="block text-sm font-medium mb-1"
      >Código postal*</label
    >
    <input
      id="codigoPostal"
      maxlength="5"
      type="text"
      formControlName="codigoPostal"
      class="w-full border border-gray-300 placeholder-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"
      placeholder="Código postal"
      [class.border-red-500]="
        addressFormBuilder.controls['codigoPostal'].invalid &&
        addressFormBuilder.controls['codigoPostal'].touched
      "
      required
    />
    @if ( formUtils.isValidField(addressFormBuilder, 'codigoPostal')) {
    <error-form class="block mt-1 ml-1 text-sm text-red-500">
      {{ formUtils.getFieldError(addressFormBuilder, "codigoPostal") }}
    </error-form>
    }
  </div>

  <!-- Población -->
  <div>
    <label for="poblacion" class="block text-sm font-medium mb-1"
      >Población*</label
    >
    <input
      id="poblacion"
      type="text"
      formControlName="poblacion"
      class="w-full border border-gray-300 placeholder-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"
      placeholder="Población"
      [class.border-red-500]="
        addressFormBuilder.controls['poblacion'].invalid &&
        addressFormBuilder.controls['poblacion'].touched
      "
      required
    />
    @if ( formUtils.isValidField(addressFormBuilder, 'poblacion')) {
    <error-form class="block mt-1 ml-1 text-sm text-red-500">
      {{ formUtils.getFieldError(addressFormBuilder, "poblacion") }}
    </error-form>
    }
  </div>

  <!-- Provincia -->
  <div>
    <label for="provincia" class="block text-sm font-medium mb-1"
      >Provincia*</label
    >
    <input
      id="provincia"
      type="text"
      formControlName="provincia"
      class="w-full border border-gray-300 placeholder-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"
      placeholder="Provincia"
      [class.border-red-500]="
        addressFormBuilder.controls['provincia'].invalid &&
        addressFormBuilder.controls['provincia'].touched
      "
      required
    />
    @if ( formUtils.isValidField(addressFormBuilder, 'provincia')) {
    <error-form class="block mt-1 ml-1 text-sm text-red-500">
      {{ formUtils.getFieldError(addressFormBuilder, "provincia") }}
    </error-form>
    }
  </div>
</form>
